# from xrandr pkg 
# exec --no-startup-id xrandr --output eDP-1 --auto

# :) 
# set $term kitty
set $term alacritty
set $EDITOR nvim
set $mod Mod4
set $mod1 Mod1
set $up k
set $down j
set $left h
set $right l


#===workspace control===
# set $WS1  1:Browser
# set $WS2  2:Notes
# set $WS3  3:Files
# set $WS4  4:Chat
# set $WS5  5:Media
# set $WS6  6:Dev
# set $WS7  7:Term
# set $WS8  8:Downloads
# set $WS9  9:Server

set $WS1 "1:  "
set $WS2 "2:  "
set $WS3 "3:  "
set $WS6 "4:  "
set $WS4 "5:  "
set $WS5 "6:  "
set $WS7 "7:  "
set $WS8 "8:  "
set $WS9 "9:  "

# Switch to workspace
bindsym $mod+1 workspace $WS1
bindsym $mod+2 workspace $WS2
bindsym $mod+3 workspace $WS3
bindsym $mod+4 workspace $WS4
bindsym $mod+5 workspace $WS5
bindsym $mod+6 workspace $WS6
bindsym $mod+7 workspace $WS7
bindsym $mod+8 workspace $WS8
bindsym $mod+9 workspace $WS9

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $WS1
bindsym $mod+Shift+2 move container to workspace $WS2
bindsym $mod+Shift+3 move container to workspace $WS3
bindsym $mod+Shift+4 move container to workspace $WS4
bindsym $mod+Shift+5 move container to workspace $WS5
bindsym $mod+Shift+6 move container to workspace $WS6
bindsym $mod+Shift+7 move container to workspace $WS7
bindsym $mod+Shift+8 move container to workspace $WS8
bindsym $mod+Shift+9 move container to workspace $WS9

# Keybinding 
# bindsym $mod+Shift+minus move scratchpad
# bindsym $mod+minus scratchpad show
bindsym $mod+Shift+c kill
bindsym $mod+a focus parent
bindsym $mod+z focus child
# bindsym $mod+b bar mode toggle
bindsym $mod+i split h
bindsym $mod+u split v
floating_modifier $mod
# bindsym $mod+space floating toggle
bindsym $mod+t floating toggle
bindsym $mod+f fullscreen toggle
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

# Moving 
bindsym $mod+Ctrl+h move left
bindsym $mod+Ctrl+l move right
bindsym $mod+Ctrl+j move down
bindsym $mod+Ctrl+k move up

bindsym $mod+s mode "resize"
mode "resize" {
        bindsym Shift+j resize shrink width 2 px or 2 ppt
        bindsym k       resize grow height 2 px or 2 ppt
        bindsym j       resize shrink height 2 px or 2 ppt
        bindsym Shift+k resize grow width 2 px or 2 ppt
        # exit resize mode: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}

# Disable automatic window focus
# focus_follows_mouse no

# kitti3 
# exec_always --no-startup-id kitti3 -p CC -s 0.8 0.7 -n n1
# bindsym $mod+shift+o nop n1

# i3-quickterm
bindsym $mod+Shift+o exec --no-startup-id i3-quickterm shell
#
#############################
#scratchpad
#ncmpcpp
# for_window [instance="mus"] floating enable 
# for_window [instance="mus"] resize set 1000 900
# for_window [instance="mus"] move scratchpad
# # exec --no-startup-id $term --name mus -e ncmpcpp  # kitty term
# exec --no-startup-id $term --class mus -e ncmpcpp
# bindsym $mod++minus [instance="mus"] scratchpad show; [instance="mus"] move position center

# ncpamixer
# for_window [instance="maxir"] floating enable 
# for_window [instance="maxir"] resize set 900 900
# for_window [instance="maxir"] move scratchpad
# # exec --no-startup-id $term --name maxir -e ncpamixer -t i   # kitty term
# exec --no-startup-id $term --class maxir -e ncpamixer -t i
# bindsym $mod+backslash [instance="maxir"] scratchpad show; [instance="maxir"] move position center

#############################

# Jump to urgent window 
# for_window [urgent=latest] focus
focus_on_window_activation focus
default_orientation horizontal
exec_always --no-startup-id autotiling
# i3-back
# Start the daemon which listens to focus changes and sets _back mark
exec --no-startup-id /usr/bin/i3-back
# Bind a switch key, which focuses the previously focused window
bindsym $mod+Tab [con_mark=_back] focus
bindsym mod1+Tab workspace back_and_forth

# auto start
exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &
# exec --no-startup-id blueberry-tray
exec_always --no-startup-id nm-applet
exec --no-startup-id numlockx on
exec --no-startup-id feh --bg-fill /home/omar/.cache/wall/wallpaper.jpg & 
exec --no-startup-id sxhkd 
exec --no-startup-id mpd
exec_always --no-startup-id clipmenud
exec --no-startup-id redshift -P -O 3250 &
exec --no-startup-id /usr/lib/xfce4/notifyd/xfce4-notifyd &
exec --no-startup-id picom --config ~/.config/i3/picom.conf
# exec --no-startup-id conky 
exec --no-startup-id dunst
exec --no-startup-id flameshot
exec_always --no-startup-id xfce4-clipman
exec_always --no-startup-id caffeine  #Install it using pmii caffeine-ng
exec --no-startup-id dropbox-cli start -i

# exec --no-startup-id setxkbmap -option caps:escape
# lvim and acpi
# exec_always --no-startup-id xhost +local:root 

# Floating 
for_window [class="SimpleScreenRecorder"] floating enable
for_window [class="mpv"] floating enable
for_window [class="Pavucontrol"] floating enable
# new_window normal
# new_float normal
popup_during_fullscreen smart
for_window [class="^.*"] border pixel 2
gaps inner 3
gaps outer 0
# smart_gaps on
smart_borders on

# theme: 
set $bg        #282828
set $red       #cc241d
set $green     #98971a
set $yellow    #d79921
set $blue      #458588
set $purple    #b16286
set $aqua      #689d68
set $gray      #a89984
set $darkgray  #1d2021
set $lightgray #bdae93
set $white     #EEEEEE


bar {
    height 16
    workspace_buttons yes
    font pango:Exo2, FontAwesome5Free, FontAwesome5Brands, SymbolsNerdFont Bold 7.5
    position top
    status_command i3blocks -c ~/.config/i3/i3blocks
    # status_command i3blocks -c ~/.config/i3/i3blocks_custom_color
    colors {
        background           $bg 
        separator            $yellow
        focused_workspace    $lightgray $lightgray  $bg
        inactive_workspace   $darkgray  $darkgray   $lightgray
        active_workspace     $darkgray  $darkgray   $lightgray
        urgent_workspace     $red       $red        $bg
      }
    }
    ## class                  border    backgr  text               indicator
    client.focused            $gray     $blue   $gray              $white
    client.unfocused          $bg       $bg     $gray              $bg
    client.focused_inactive   $bg       $bg     $gray              $bg 
    client.placeholder        $bg       $bg     $lightgray         $bg
    client.urgent             $red      $red    $lightgray         $red
    client.background         $darkgray
